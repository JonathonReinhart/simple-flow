!function(i,t,e,n){"use strict";var s="SimpleFlow",r={lineWidth:2,lineSpacerWidth:15,lineColour:"#91acb3",canvasElm:".canvas"};function o(t,e){this.element=t,this.settings=i.extend({},r,e),this._defaults=r,this._name=s,this.init()}i.extend(o.prototype,{init:function(){this.drawLines();var e=this;i(t).resize(function(){this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){i(this).trigger("resizeEnd")},250)}),i(t).bind("resizeEnd",function(){e.drawLines()})},drawLines:function(){i("svg.simple-flow-line").remove();for(var t=i(this.element),e=0;e<t.length;e++){var n=t.eq(e),s=t.eq(e+1);this.drawLine(n,s)}},drawLine:function(t,e){var n=t.parent(),s=e.parent();if(void 0!==e.position()){var r=t.outerHeight(!0)/2,o=e.outerHeight(!0)/2,a=r+n.position().top,h=o+s.position().top,d=(n.outerWidth(!0)-n.width())/2,l=(s.outerWidth(!0)-s.width())/2,u=n.position().left+t.outerWidth(!0)+d,f=s.position().left+l,p=f-this.settings.lineSpacerWidth,c=u+this.settings.lineSpacerWidth,g=(a+h)/2;if(a==h)var m=u+","+a+" "+f+","+h;else m=u+","+a+" "+c+","+a+" "+c+","+g+" "+p+","+g+" "+p+","+h+" "+f+","+h;var v='<svg class="simple-flow-line"><defs><marker id="arrowhead" viewBox="0 0 10 10" refX="8" refY="5"markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" stroke="none" fill="'+this.settings.lineColour+'"/></marker></defs><path d="M'+m+'"style="fill:none;stroke:'+this.settings.lineColour+";stroke-width:"+this.settings.lineWidth+';marker-end:url(#arrowhead);" /></svg>';i(this.settings.canvasElm).append(v)}}}),i.fn[s]=function(t){i.data(this,"plugin_"+s)||i.data(this,"plugin_"+s,new o(this,t))}}(jQuery,window,document);
